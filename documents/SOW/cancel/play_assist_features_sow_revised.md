---
project_name: "ウディこん助 作品プレイ補助機能開発（要件更新版）"
status: "Todo"
owner: "開発チーム"
created_at: "2025-07-11"
updated_at: "2025-07-11"
---

### SOW (Statement of Work)

- **Project Name:** `ウディこん助 作品プレイ補助機能開発（要件更新版）`
- **Creation Date:** `2025-07-11`
- **Revision History:**
  - `v1.0 (2025-07-11): Initial draft`
  - `v2.0 (2025-07-11): 要件定義書追記に基づく全面見直し`

#### 1. Project Purpose & Background

要件定義書の追記により、ウディコン公式の評価システム準拠とリスト形式UIの要求が明確化された。本機能は、ウディコン公式と同等の評価機能を持ち、効率的な作品管理を可能とする拡張機能として実装する。

**重要な要件変更:**
- 評価システム: 6項目×10点制（ウディコン公式準拠）
- UI形式: リスト表示（テーブル形式）
- 感想: 2000字制限、40字×50行相当
- 作品数: MIN6件～MAX80件

#### 2. Scope of Work

### 2.1 ウディコン公式準拠評価システム

**評価項目実装:**
```javascript
interface WodiconRating {
  熱中度: number;        // 1-10点
  斬新さ: number;        // 1-10点
  物語性: number;        // 1-10点
  画像音声: number;      // 1-10点
  遊びやすさ: number;    // 1-10点
  その他: number;        // 1-10点
}
```

**評価UI仕様:**
- 各項目にスライダー（1-10）または数値入力
- 合計点数の自動計算・表示
- 未評価項目の明確化
- 評価完了時の既プレイフラグ自動ON

### 2.2 感想記録システム

**感想入力仕様:**
- **文字数制限**: 2000字上限
- **入力形式**: テキストエリア（40字幅想定）
- **文字数カウンター**: リアルタイム表示
- **保存機能**: 自動保存 + 手動保存

**レイアウト考慮:**
- 40字×50行相当の表示領域
- 折り返し表示の適切な処理
- スクロール対応

### 2.3 リスト形式UI実装

**メイン画面レイアウト:**
```
┌─┬────┬──────────────┬────────┬────┬──────────────────┐
│☑│No  │作品名            │フォルダ  │Ver │評価（熱/斬/物/画/遊/他） │
├─┼────┼──────────────┼────────┼────┼──────────────────┤
│☑│001 │魔法少女アリスの冒険│📁      │🔔  │10/9/10/8/9/8        │
│□│002 │謎解きカフェ事件簿  │📁      │✅  │8/7/9/7/8/6          │
│☑│003 │スチームパンク大戦  │📁      │🔔  │6/9/7/9/5/7          │
│□│004 │放課後の怪談話      │        │✅  │-/-/-/-/-/-          │
│☑│005 │料理の達人への道    │📁      │✅  │8/6/8/8/9/7          │
│□│006 │新作RPG            │        │🆕  │-/-/-/-/-/-          │
└─┴────┴──────────────┴────────┴────┴──────────────────┘
```

**列仕様:**
- **既プレイフラグ**: ☑（評価済み）/ □（未評価）
- **No**: 3桁0埋め（001-080）
- **作品名**: ウディコン公式リンク（最大20文字表示）
- **ローカルフォルダ**: 📁（設定済み）/ 空白（未設定）
- **最新Ver**: ✅（最新）/ 🔔（更新あり）/ 🆕（新規）
- **評価**: 6項目を「/」区切りで表示

### 2.4 作品詳細・編集画面

**詳細画面レイアウト:**
```
┌─────────────────────────────────────┐
│ No.001 魔法少女アリスの冒険     [×] │
│ 作者: MagicCoder                   │
│ [ウディコン公式ページを開く]        │
├─────────────────────────────────────┤
│ ■ 評価                            │
│ 熱中度    : [■■■■■■■■■■] 10 │
│ 斬新さ    : [■■■■■■■■■□] 9  │
│ 物語性    : [■■■■■■■■■■] 10 │
│ 画像音声  : [■■■■■■■■□□] 8  │
│ 遊びやすさ: [■■■■■■■■■□] 9  │
│ その他    : [■■■■■■■■□□] 8  │
│ 合計: 54/60点                      │
├─────────────────────────────────────┤
│ ■ ローカルフォルダ                 │
│ [C:\Games\WodiCon\アリス] [📁][編集] │
├─────────────────────────────────────┤
│ ■ 感想 (40字×50行 / 2000字以内)    │
│ ┌─────────────────────────────────┐ │
│ │素晴らしいストーリー展開でした。   │ │
│ │特にラストの展開は涙なしには見られ │ │
│ │ませんでした。キャラクター同士の関 │ │
│ │係性も丁寧に描かれており、RPGとし │ │
│ │ても非常に完成度が高いです。      │ │
│ │                               │ │
│ │（以下、自由記載...）             │ │
│ └─────────────────────────────────┘ │
│ 文字数: 125/2000                   │
├─────────────────────────────────────┤
│ [保存] [キャンセル] [削除]          │
└─────────────────────────────────────┘
```

### 2.5 データ構造更新

**新作品データモデル:**
```typescript
interface GameWork {
  id: number;                    // 作品ID (1-80)
  no: string;                    // 作品番号（001-080形式）
  title: string;                 // 作品タイトル
  author: string;                // 作者名
  description: string;           // 概要
  wodicon_url: string;           // ウディコン公式URL
  local_folder_path: string;     // ローカルフォルダパス
  is_played: boolean;            // 既プレイフラグ（評価済み=true）
  
  // ウディコン公式準拠評価
  rating: {
    熱中度: number;              // 1-10
    斬新さ: number;              // 1-10
    物語性: number;              // 1-10
    画像音声: number;            // 1-10
    遊びやすさ: number;          // 1-10
    その他: number;              // 1-10
    total: number;               // 合計点（自動計算）
  };
  
  review: string;                // 感想（2000字以内）
  review_length: number;         // 文字数カウント
  
  version_status: 'latest' | 'updated' | 'new';
  last_played: Date | null;
  created_at: Date;
  updated_at: Date;
  
  // 将来機能用
  update_notification: boolean;
  bbs_check: boolean;
  last_update_check: Date | null;
}
```

### 2.6 Chrome拡張機能制約対応

**ポップアップサイズ調整:**
- **推奨サイズ**: 500px × 600px（リスト表示のため拡大）
- **スクロール対応**: 6件表示、残りはスクロール
- **列幅調整**: 各項目の固定幅設定

**外部リンク対応:**
- ウディコン公式ページへのリンク（chrome.tabs.create使用）
- file://プロトコルでのローカルフォルダアクセス

#### 3. Out of Scope

以下は本開発の対象外とする：

- ウディコン公式サイトとの自動連携
- 評価の自動投稿機能
- 他ユーザーとの評価比較・共有機能
- 作品の自動ダウンロード
- 高度な統計・分析機能（基本集計のみ）

#### 4. Deliverables

**ソースコード:**
- Chrome拡張機能一式（manifest.json、popup.html/js、options.html/js等）
- ウディコン公式準拠評価システム
- リスト形式UI実装
- 2000字感想入力システム

**サンプルデータ:**
- 6作品の実用的テストデータ
- 評価済み/未評価の混在データ
- ウディコン公式URL含むリアルなデータ

**ドキュメント:**
- 更新された機能仕様書
- ウディコン評価システム対応仕様
- UI操作マニュアル

#### 5. Assumptions & Constraints

**Assumptions:**
- chrome.storage.local容量制限（5MB）内での実装
- ウディコン公式サイトのURL形式不変
- 80作品での安定動作
- 2000字感想での容量問題なし

**Constraints:**
- Chrome拡張機能ポップアップサイズ制限
- ウディコン公式サイトとの直接連携不可
- 評価データの外部投稿不可
- リスト表示による視認性制約

#### 6. Team & Roles

**Client-side:**
- Product Owner: `要求者`
- Requirements Reviewer: `要求者`

**Vendor/Developer-side:**
- Lead Developer: `Claude Code`
- UI/UX Designer: `Claude Code`
- Data Architect: `Claude Code`

#### 7. Schedule

**更新されたマイルストーン:**
- **新データ構造設計完了:** `2025-07-12`
- **ウディコン評価システム実装:** `2025-07-14`
- **リスト形式UI実装:** `2025-07-16`
- **2000字感想システム実装:** `2025-07-17`
- **統合テスト・調整完了:** `2025-07-18`
- **Final Delivery:** `2025-07-18`

#### 8. Acceptance Criteria

以下の条件を満たした場合、開発完了とみなす：

**ウディコン準拠機能:**
- 6項目×10点制の評価システムが正常動作
- 評価完了時に既プレイフラグが自動ON
- ウディコン公式ページへのリンクが正常動作

**リスト表示UI:**
- 6-80作品がリスト形式で整列表示される
- 各列の幅が適切に調整されている
- スクロール時の表示崩れがない

**感想システム:**
- 2000字制限が正しく機能する
- 40字幅相当の適切な表示
- リアルタイム文字数カウント

**データ永続化:**
- 80作品登録時でも安定動作
- 評価・感想データの完全保存
- ブラウザ再起動後のデータ保持

#### 9. Change Log

- **2025-07-11 (v1.0) by Claude Code:**
  - **Reason for Change:** 初版作成
  - **Details of Change:** 基本仕様策定

- **2025-07-11 (v2.0) by Claude Code:**
  - **Reason for Change:** 要件定義書追記（プレイ補助・UIデザイン項目）
  - **Details of Change:** 
    - 評価システム: 5段階→6項目×10点制に変更
    - UI: グリッド表示→リスト表示に変更
    - 感想: 制限なし→2000字制限に変更
    - 作品数: 5件サンプル→6-80件に変更