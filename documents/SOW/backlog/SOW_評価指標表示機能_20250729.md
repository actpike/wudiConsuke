---
project_name: "評価指標表示機能"
status: "Todo"
owner: "actpike"
created_at: "2025-07-29"
updated_at: "2025-07-29"
---

### SOW (Statement of Work) - 評価指標表示機能

- **Project Name:** `評価指標表示機能`
- **Creation Date:** `2025-07-29`
- **Revision History:**
  - `v1.0 (2025-07-29): Initial draft`

#### 1. Project Purpose & Background
Chrome拡張機能「ウディこん助」の個別作品評価画面において、現在は評価スライダー（1-10点）のみが表示されているが、ウディコン公式の詳細な評価指標（例：「【7】★★★★ しっかりとした物語性を生み出せている」）をユーザーが参照できない状態となっている。

評価の一貫性と正確性を向上させるため、公式評価指標をUI上で確認できる仕組みを導入し、より適切な評価判断をサポートする機能を実装する。

#### 2. Scope of Work
*以下のタスクを実行する*

- **多言語対応定数定義システムの構築**
  - constants.jsに多言語対応評価指標システムを追加
  - 言語別データ構造設計（現在は日本語(JP)のみ実装、将来的に英語(EN)等拡張可能）
  - 6カテゴリ（熱中度、斬新さ、物語性、画像音声、遊びやすさ、その他）の指標データ構造設計
  - 各カテゴリ1-10点（その他は0-10点）に対応する指標文言の多言語定数化
  - 言語切り替え基盤の設計（現在は日本語固定、将来拡張用）

- **ツールチップ表示機能**
  - 各評価項目ラベル横に「?」ヘルプアイコンを追加
  - ホバー時に該当カテゴリの全評価指標をツールチップ表示
  - CSS設計とJavaScript実装

- **リアルタイムバルーン表示機能**
  - スライダー操作時（押下・ドラッグ）のマウス座標追跡
  - カーソル右上15px位置に動的バルーン表示
  - 現在の評価値に対応する指標テキストをリアルタイム表示
  - 画面端検出による表示位置自動調整

- **UI/UX設計**
  - バルーンデザイン（背景、フォント、サイズ、透明度）
  - 表示タイミング制御（押下時表示、離した時0.5秒後フェードアウト）
  - Chrome拡張ポップアップ境界内での表示保証

- **既存機能との統合**
  - navigation.jsの評価スライダー処理との連携
  - 既存のCSS・HTML構造への非破壊的な追加
  - 他機能への影響回避

#### 3. Out of Scope
*以下のタスクは実行しない*

- 評価指標文言の変更・カスタマイズ機能
- 日本語以外の実際の多言語実装（基盤のみ構築、実装は将来対応）
- 言語切り替えUI・設定画面の実装
- モバイル・タブレット専用のタッチ操作対応
- 評価指標の履歴・保存機能
- ユーザー独自の評価基準設定機能
- 他の画面（一覧画面等）への評価指標表示
- 評価指標に基づく自動評価・推奨機能
- 音声・アニメーション効果の追加

#### 4. Deliverables
*プロジェクト完了時に提供される成果物*

- **実装関連:**
  - 修正されたconstants.js（多言語対応評価指標定数システム）
  - 修正されたpopup.html（?ヘルプアイコン追加）
  - 修正されたpopup.css（ツールチップ・バルーンスタイル）
  - 修正されたnavigation.js（多言語対応バルーン表示ロジック）

- **テスト関連:**
  - 6カテゴリ全評価値での表示確認レポート
  - マウス操作（ホバー・ドラッグ）動作確認レポート
  - Chrome拡張ポップアップ境界での表示確認

- **ドキュメント関連:**
  - 多言語対応設計書（言語データ構造・拡張手順）
  - 実装仕様書（定数構造・表示ロジック詳細）
  - UI/UX設計書（バルーン表示仕様）

#### 5. Assumptions & Constraints
- **Assumptions:** 
  - 評価指標ファイル（documents/評価指標/評価指標.md）の内容が最新かつ正確であること
  - Chrome拡張機能のポップアップサイズ制約（800x600px程度）内での実装
  - 既存の6カテゴリ評価システムは変更しないこと
  - 当面は日本語(JP)のみの実装で、他言語は将来対応

- **Constraints:** 
  - Chrome Manifest V3の制約内での実装
  - 既存のnavigation.js、popup.cssとの互換性維持
  - 多言語対応基盤構築によるハードコード完全排除
  - Chrome拡張機能のメモリ・パフォーマンス制約
  - 将来の言語追加時の後方互換性保証

#### 6. Team & Roles
- **Client-side:**
  - Project Lead: `actpike`
- **Vendor/Developer-side:**
  - Assigned to: `Claude Code`

#### 7. Schedule
*主要マイルストーンとその期限*

- **Kick-off:** `2025-07-29`
- **定数定義・データ構造設計完了:** `2025-07-29`
- **ツールチップ機能実装完了:** `2025-07-29`
- **リアルタイムバルーン機能実装完了:** `2025-07-29`
- **統合テスト・動作確認完了:** `2025-07-29`
- **Final Delivery:** `2025-07-29`

#### 8. Acceptance Criteria
*成果物が「完了」として承認されるための具体的基準*

- 各評価項目に「?」ヘルプアイコンが表示されること
- 「?」アイコンホバー時に該当カテゴリの全評価指標がツールチップ表示されること
- スライダー押下・ドラッグ時にカーソル右上にバルーンが表示されること
- バルーン内容が現在の評価値に対応する正確な指標テキストであること
- スライダー操作終了後0.5秒でバルーンがフェードアウトすること
- 6カテゴリ全て（熱中度、斬新さ、物語性、画像音声、遊びやすさ、その他）で正常動作すること
- 評価指標文言が全て多言語対応定数システムから取得されていること（ハードコードなし）
- 多言語データ構造が将来の言語追加に対応できる拡張可能な設計であること
- 既存の評価機能・UI・保存機能に影響がないこと
- Chrome拡張ポップアップ境界からバルーンがはみ出ないこと

#### 9. Change Log
*初期承認後のSOW変更記録*

（変更履歴なし）

---